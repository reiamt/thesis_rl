
[2023-05-22 07:03:55,033, ema.py:67] EMA smoothing ENABLED: 0.99
[2023-05-22 07:03:57,833, data_pipeline.py:49] Imported 101_20200102_merge.csv.xz from a csv in 2 seconds
[2023-05-22 07:03:58,025, ema.py:93] Applying EMA to data...
[2023-05-22 07:04:00,190, data_pipeline.py:49] Imported /XBTUSD_2020-01-03.csv.xz from a csv in 1 seconds
[2023-05-22 07:04:00,368, ema.py:93] Applying EMA to data...
[2023-05-22 07:04:00,586, data_pipeline.py:228] Adding order imbalances...
[2023-05-22 07:04:00,606, ema.py:127] Reset EMA data.
[2023-05-22 07:04:00,606, ema.py:93] Applying EMA to data...
[2023-05-22 07:04:00,817, ema.py:67] EMA smoothing ENABLED: 0.99
[2023-05-22 07:04:00,818, ema.py:67] EMA smoothing ENABLED: 0.99
[2023-05-22 07:04:00,818, ema.py:67] EMA smoothing ENABLED: 0.99
[2023-05-22 07:04:00,818, ema.py:67] EMA smoothing ENABLED: 0.99
Resetting environment #1 on episode #0.
market-maker-v0 XBTUSD #1 instantiated
observation_space: (100, 174) reward_type = TRADE_COMPLETION max_steps = 86345
Using cpu device
Resetting environment #1 on episode #0.
Logging to ./runs/6hmfm93z/DQN_1
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -367.9825
Episode PnL: -3.59%
Trade Count: 1654
Average PnL per Trade: -0.0217%
Total # of episodes: 1
short_inventory_market_orders	=	331
short_inventory_orders_placed	=	566
short_inventory_orders_updated	=	9861
short_inventory_orders_executed	=	565
long_inventory_market_orders	=	262
long_inventory_orders_placed	=	497
long_inventory_orders_updated	=	9899
long_inventory_orders_executed	=	496
First step:	5192
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -404.9809
Episode PnL: -3.59%
Trade Count: 1872
Average PnL per Trade: -0.0192%
Total # of episodes: 2
short_inventory_market_orders	=	362
short_inventory_orders_placed	=	625
short_inventory_orders_updated	=	10738
short_inventory_orders_executed	=	624
long_inventory_market_orders	=	312
long_inventory_orders_placed	=	575
long_inventory_orders_updated	=	10803
long_inventory_orders_executed	=	574
First step:	10955
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -358.9829
Episode PnL: -2.61%
Trade Count: 1708
Average PnL per Trade: -0.0153%
Total # of episodes: 3
short_inventory_market_orders	=	318
short_inventory_orders_placed	=	541
short_inventory_orders_updated	=	10024
short_inventory_orders_executed	=	540
long_inventory_market_orders	=	314
long_inventory_orders_placed	=	537
long_inventory_orders_updated	=	9948
long_inventory_orders_executed	=	536
First step:	7813
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -257.9516
Episode PnL: -2.26%
Trade Count: 1430
Average PnL per Trade: -0.0158%
Total # of episodes: 4
short_inventory_market_orders	=	196
short_inventory_orders_placed	=	558
short_inventory_orders_updated	=	6107
short_inventory_orders_executed	=	557
long_inventory_market_orders	=	158
long_inventory_orders_placed	=	520
long_inventory_orders_updated	=	6165
long_inventory_orders_executed	=	519
First step:	144
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -258     |
| rollout/            |          |
|    ep_len_mean      | 1.53e+04 |
|    ep_rew_mean      | -347     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 4        |
|    fps              | 1785     |
|    time_elapsed     | 34       |
|    total_timesteps  | 61051    |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.00599  |
|    n_updates        | 2762     |
----------------------------------
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -110.9561
Episode PnL: -2.12%
Trade Count: 1278
Average PnL per Trade: -0.0166%
Total # of episodes: 5
short_inventory_market_orders	=	132
short_inventory_orders_placed	=	512
short_inventory_orders_updated	=	4552
short_inventory_orders_executed	=	511
long_inventory_market_orders	=	128
long_inventory_orders_placed	=	508
long_inventory_orders_updated	=	4611
long_inventory_orders_executed	=	507
First step:	16332
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -88.9661
Episode PnL: -1.86%
Trade Count: 1066
Average PnL per Trade: -0.0174%
Total # of episodes: 6
short_inventory_market_orders	=	100
short_inventory_orders_placed	=	410
short_inventory_orders_updated	=	3872
short_inventory_orders_executed	=	409
long_inventory_market_orders	=	124
long_inventory_orders_placed	=	434
long_inventory_orders_updated	=	3957
long_inventory_orders_executed	=	433
First step:	7751
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -122.9652
Episode PnL: -3.75%
Trade Count: 1222
Average PnL per Trade: -0.0307%
Total # of episodes: 7
short_inventory_market_orders	=	123
short_inventory_orders_placed	=	499
short_inventory_orders_updated	=	4486
short_inventory_orders_executed	=	498
long_inventory_market_orders	=	113
long_inventory_orders_placed	=	489
long_inventory_orders_updated	=	4361
long_inventory_orders_executed	=	488
First step:	10989
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -132.9536
Episode PnL: -3.88%
Trade Count: 1320
Average PnL per Trade: -0.0294%
Total # of episodes: 8
short_inventory_market_orders	=	188
short_inventory_orders_placed	=	517
short_inventory_orders_updated	=	4101
short_inventory_orders_executed	=	516
long_inventory_market_orders	=	144
long_inventory_orders_placed	=	473
long_inventory_orders_updated	=	3996
long_inventory_orders_executed	=	472
First step:	3462
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -133     |
| rollout/            |          |
|    ep_len_mean      | 1.53e+04 |
|    ep_rew_mean      | -231     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 8        |
|    fps              | 977      |
|    time_elapsed     | 125      |
|    total_timesteps  | 122286   |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.0147   |
|    n_updates        | 18071    |
----------------------------------
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -125.9541
Episode PnL: -2.24%
Trade Count: 1312
Average PnL per Trade: -0.0171%
Total # of episodes: 9
short_inventory_market_orders	=	164
short_inventory_orders_placed	=	532
short_inventory_orders_updated	=	4386
short_inventory_orders_executed	=	532
long_inventory_market_orders	=	124
long_inventory_orders_placed	=	493
long_inventory_orders_updated	=	4598
long_inventory_orders_executed	=	492
First step:	12645
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -94.9622
Episode PnL: 0.63%
Trade Count: 1262
Average PnL per Trade: 0.0050%
Total # of episodes: 10
short_inventory_market_orders	=	135
short_inventory_orders_placed	=	469
short_inventory_orders_updated	=	4021
short_inventory_orders_executed	=	468
long_inventory_market_orders	=	163
long_inventory_orders_placed	=	497
long_inventory_orders_updated	=	3864
long_inventory_orders_executed	=	496
First step:	2962
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -105.9711
Episode PnL: -1.25%
Trade Count: 1106
Average PnL per Trade: -0.0113%
Total # of episodes: 11
short_inventory_market_orders	=	136
short_inventory_orders_placed	=	436
short_inventory_orders_updated	=	4554
short_inventory_orders_executed	=	435
long_inventory_market_orders	=	118
long_inventory_orders_placed	=	418
long_inventory_orders_updated	=	4468
long_inventory_orders_executed	=	417
First step:	8444
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -75.9580
Episode PnL: -1.37%
Trade Count: 1174
Average PnL per Trade: -0.0116%
Total # of episodes: 12
short_inventory_market_orders	=	99
short_inventory_orders_placed	=	503
short_inventory_orders_updated	=	4087
short_inventory_orders_executed	=	502
long_inventory_market_orders	=	85
long_inventory_orders_placed	=	489
long_inventory_orders_updated	=	4472
long_inventory_orders_executed	=	488
First step:	4764
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -76      |
| rollout/            |          |
|    ep_len_mean      | 1.54e+04 |
|    ep_rew_mean      | -187     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 12       |
|    fps              | 702      |
|    time_elapsed     | 263      |
|    total_timesteps  | 185061   |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.00302  |
|    n_updates        | 33765    |
----------------------------------
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -138.9640
Episode PnL: -4.31%
Trade Count: 1198
Average PnL per Trade: -0.0360%
Total # of episodes: 13
short_inventory_market_orders	=	146
short_inventory_orders_placed	=	505
short_inventory_orders_updated	=	3967
short_inventory_orders_executed	=	504
long_inventory_market_orders	=	95
long_inventory_orders_placed	=	454
long_inventory_orders_updated	=	4503
long_inventory_orders_executed	=	453
First step:	16946
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -58.9465
Episode PnL: 0.64%
Trade Count: 1174
Average PnL per Trade: 0.0054%
Total # of episodes: 14
short_inventory_market_orders	=	90
short_inventory_orders_placed	=	464
short_inventory_orders_updated	=	3996
short_inventory_orders_executed	=	463
long_inventory_market_orders	=	124
long_inventory_orders_placed	=	498
long_inventory_orders_updated	=	3657
long_inventory_orders_executed	=	497
First step:	17137
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -104.9277
Episode PnL: -1.21%
Trade Count: 1070
Average PnL per Trade: -0.0113%
Total # of episodes: 15
short_inventory_market_orders	=	42
short_inventory_orders_placed	=	457
short_inventory_orders_updated	=	3928
short_inventory_orders_executed	=	456
long_inventory_market_orders	=	79
long_inventory_orders_placed	=	494
long_inventory_orders_updated	=	3847
long_inventory_orders_executed	=	493
First step:	11742
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -98.9459
Episode PnL: 0.11%
Trade Count: 1332
Average PnL per Trade: 0.0008%
Total # of episodes: 16
short_inventory_market_orders	=	84
short_inventory_orders_placed	=	517
short_inventory_orders_updated	=	4378
short_inventory_orders_executed	=	516
long_inventory_market_orders	=	150
long_inventory_orders_placed	=	583
long_inventory_orders_updated	=	4009
long_inventory_orders_executed	=	582
First step:	1110
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -97.9    |
| rollout/            |          |
|    ep_len_mean      | 1.52e+04 |
|    ep_rew_mean      | -166     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 16       |
|    fps              | 697      |
|    time_elapsed     | 348      |
|    total_timesteps  | 243221   |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.00116  |
|    n_updates        | 48305    |
----------------------------------
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -64.9485
Episode PnL: 1.60%
Trade Count: 1272
Average PnL per Trade: 0.0126%
Total # of episodes: 17
short_inventory_market_orders	=	112
short_inventory_orders_placed	=	524
short_inventory_orders_updated	=	4411
short_inventory_orders_executed	=	523
long_inventory_market_orders	=	113
long_inventory_orders_placed	=	524
long_inventory_orders_updated	=	4322
long_inventory_orders_executed	=	524
First step:	6285
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -121.9697
Episode PnL: -3.14%
Trade Count: 1076
Average PnL per Trade: -0.0291%
Total # of episodes: 18
short_inventory_market_orders	=	198
short_inventory_orders_placed	=	463
short_inventory_orders_updated	=	3965
short_inventory_orders_executed	=	463
long_inventory_market_orders	=	75
long_inventory_orders_placed	=	341
long_inventory_orders_updated	=	4425
long_inventory_orders_executed	=	340
First step:	1031
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -103.9556
Episode PnL: -1.48%
Trade Count: 1152
Average PnL per Trade: -0.0128%
Total # of episodes: 19
short_inventory_market_orders	=	117
short_inventory_orders_placed	=	479
short_inventory_orders_updated	=	4548
short_inventory_orders_executed	=	478
long_inventory_market_orders	=	98
long_inventory_orders_placed	=	460
long_inventory_orders_updated	=	4307
long_inventory_orders_executed	=	459
First step:	4415
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -161.9582
Episode PnL: -3.21%
Trade Count: 1180
Average PnL per Trade: -0.0272%
Total # of episodes: 20
short_inventory_market_orders	=	155
short_inventory_orders_placed	=	483
short_inventory_orders_updated	=	4414
short_inventory_orders_executed	=	482
long_inventory_market_orders	=	108
long_inventory_orders_placed	=	436
long_inventory_orders_updated	=	4457
long_inventory_orders_executed	=	435
First step:	3606
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -161     |
| rollout/            |          |
|    ep_len_mean      | 1.54e+04 |
|    ep_rew_mean      | -155     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 20       |
|    fps              | 693      |
|    time_elapsed     | 445      |
|    total_timesteps  | 308929   |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.00288  |
|    n_updates        | 64732    |
----------------------------------
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -116.9733
Episode PnL: -1.13%
Trade Count: 1098
Average PnL per Trade: -0.0103%
Total # of episodes: 21
short_inventory_market_orders	=	156
short_inventory_orders_placed	=	463
short_inventory_orders_updated	=	4139
short_inventory_orders_executed	=	463
long_inventory_market_orders	=	86
long_inventory_orders_placed	=	394
long_inventory_orders_updated	=	4553
long_inventory_orders_executed	=	393
First step:	9529
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -111.9717
Episode PnL: -3.23%
Trade Count: 1036
Average PnL per Trade: -0.0312%
Total # of episodes: 22
short_inventory_market_orders	=	97
short_inventory_orders_placed	=	411
short_inventory_orders_updated	=	4236
short_inventory_orders_executed	=	410
long_inventory_market_orders	=	108
long_inventory_orders_placed	=	422
long_inventory_orders_updated	=	4593
long_inventory_orders_executed	=	421
First step:	2561
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -100.9649
Episode PnL: -1.61%
Trade Count: 1196
Average PnL per Trade: -0.0135%
Total # of episodes: 23
short_inventory_market_orders	=	96
short_inventory_orders_placed	=	408
short_inventory_orders_updated	=	4802
short_inventory_orders_executed	=	407
long_inventory_market_orders	=	191
long_inventory_orders_placed	=	503
long_inventory_orders_updated	=	4329
long_inventory_orders_executed	=	502
First step:	6771
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -108.9698
Episode PnL: -4.91%
Trade Count: 1246
Average PnL per Trade: -0.0394%
Total # of episodes: 24
short_inventory_market_orders	=	177
short_inventory_orders_placed	=	520
short_inventory_orders_updated	=	4165
short_inventory_orders_executed	=	519
long_inventory_market_orders	=	104
long_inventory_orders_placed	=	447
long_inventory_orders_updated	=	4478
long_inventory_orders_executed	=	446
First step:	431
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -109     |
| rollout/            |          |
|    ep_len_mean      | 1.55e+04 |
|    ep_rew_mean      | -148     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 24       |
|    fps              | 686      |
|    time_elapsed     | 543      |
|    total_timesteps  | 372713   |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.0171   |
|    n_updates        | 80678    |
----------------------------------
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -126.9556
Episode PnL: 0.35%
Trade Count: 1218
Average PnL per Trade: 0.0028%
Total # of episodes: 25
short_inventory_market_orders	=	84
short_inventory_orders_placed	=	420
short_inventory_orders_updated	=	4419
short_inventory_orders_executed	=	419
long_inventory_market_orders	=	190
long_inventory_orders_placed	=	526
long_inventory_orders_updated	=	4342
long_inventory_orders_executed	=	525
First step:	4074
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -102.9463
Episode PnL: -0.19%
Trade Count: 1002
Average PnL per Trade: -0.0019%
Total # of episodes: 26
short_inventory_market_orders	=	94
short_inventory_orders_placed	=	392
short_inventory_orders_updated	=	4080
short_inventory_orders_executed	=	391
long_inventory_market_orders	=	110
long_inventory_orders_placed	=	408
long_inventory_orders_updated	=	4142
long_inventory_orders_executed	=	407
First step:	14792
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -95.9655
Episode PnL: -1.85%
Trade Count: 972
Average PnL per Trade: -0.0190%
Total # of episodes: 27
short_inventory_market_orders	=	75
short_inventory_orders_placed	=	321
short_inventory_orders_updated	=	4302
short_inventory_orders_executed	=	321
long_inventory_market_orders	=	165
long_inventory_orders_placed	=	412
long_inventory_orders_updated	=	3988
long_inventory_orders_executed	=	411
First step:	16926
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -93.9687
Episode PnL: -0.52%
Trade Count: 1090
Average PnL per Trade: -0.0048%
Total # of episodes: 28
short_inventory_market_orders	=	101
short_inventory_orders_placed	=	427
short_inventory_orders_updated	=	4155
short_inventory_orders_executed	=	426
long_inventory_market_orders	=	119
long_inventory_orders_placed	=	445
long_inventory_orders_updated	=	4070
long_inventory_orders_executed	=	444
First step:	9287
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -94      |
| rollout/            |          |
|    ep_len_mean      | 1.55e+04 |
|    ep_rew_mean      | -141     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 28       |
|    fps              | 669      |
|    time_elapsed     | 647      |
|    total_timesteps  | 433746   |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.0148   |
|    n_updates        | 95936    |
----------------------------------
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -75.9598
Episode PnL: -1.35%
Trade Count: 938
Average PnL per Trade: -0.0144%
Total # of episodes: 29
short_inventory_market_orders	=	85
short_inventory_orders_placed	=	382
short_inventory_orders_updated	=	4635
short_inventory_orders_executed	=	381
long_inventory_market_orders	=	88
long_inventory_orders_placed	=	385
long_inventory_orders_updated	=	4461
long_inventory_orders_executed	=	384
First step:	13699
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -78.9544
Episode PnL: -1.57%
Trade Count: 950
Average PnL per Trade: -0.0165%
Total # of episodes: 30
short_inventory_market_orders	=	68
short_inventory_orders_placed	=	353
short_inventory_orders_updated	=	4427
short_inventory_orders_executed	=	352
long_inventory_market_orders	=	123
long_inventory_orders_placed	=	408
long_inventory_orders_updated	=	4316
long_inventory_orders_executed	=	407
First step:	1478
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -123.9587
Episode PnL: -2.70%
Trade Count: 1122
Average PnL per Trade: -0.0241%
Total # of episodes: 31
short_inventory_market_orders	=	129
short_inventory_orders_placed	=	462
short_inventory_orders_updated	=	4523
short_inventory_orders_executed	=	461
long_inventory_market_orders	=	100
long_inventory_orders_placed	=	433
long_inventory_orders_updated	=	4952
long_inventory_orders_executed	=	432
First step:	16277
===========================================================================
------------------------- XBTUSD-1 TRADE_COMPLETION EPISODE RESET -------------------------
Episode Reward: -106.9845
Episode PnL: -2.07%
Trade Count: 886
Average PnL per Trade: -0.0234%
Total # of episodes: 32
short_inventory_market_orders	=	155
short_inventory_orders_placed	=	389
short_inventory_orders_updated	=	3751
short_inventory_orders_executed	=	388
long_inventory_market_orders	=	55
long_inventory_orders_placed	=	289
long_inventory_orders_updated	=	4022
long_inventory_orders_executed	=	288
First step:	1337
===========================================================================
----------------------------------
| logger/             |          |
|    tb_logging       | -106     |
| rollout/            |          |
|    ep_len_mean      | 1.54e+04 |
|    ep_rew_mean      | -136     |
|    exploration_rate | 0.05     |
| time/               |          |
|    episodes         | 32       |
|    fps              | 662      |
|    time_elapsed     | 745      |
|    total_timesteps  | 493876   |
| train/              |          |
|    learning_rate    | 0.0001   |
|    loss             | 0.0128   |
|    n_updates        | 110968   |
----------------------------------